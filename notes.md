Separate functions from execution or testing is a pain since it'll run
the loops

possible fix:

`main` "idiom"
